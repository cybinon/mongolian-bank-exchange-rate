# üè¶ –ú–æ–Ω–≥–æ–ª—ã–Ω –ë–∞–Ω–∫—É—É–¥—ã–Ω –í–∞–ª—é—Ç—ã–Ω –•–∞–Ω—à API

–ú–æ–Ω–≥–æ–ª—ã–Ω 13 –±–∞–Ω–∫–Ω—ã –≤–∞–ª—é—Ç—ã–Ω —Ö–∞–Ω—à–∏–π–≥ —Ü—É–≥–ª—É—É–ª–∂, API-–∞–∞—Ä “Ø–π–ª—á–∏–ª–¥—ç–≥ –Ω—ç—ç–ª—Ç—Ç—ç–π —ç—Ö–∏–π–Ω —Ç”©—Å”©–ª.

## ‚ú® –û–Ω—Ü–ª–æ–≥—É—É–¥

- üìä –ú–æ–Ω–≥–æ–ª—ã–Ω 13 —Ç–æ–º–æ–æ—Ö–æ–Ω –±–∞–Ω–∫–Ω—ã –≤–∞–ª—é—Ç—ã–Ω —Ö–∞–Ω—à
- üîÑ ”®–¥”©—Ä –±“Ø—Ä –∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä —à–∏–Ω—ç—á–ª—ç–≥–¥—ç–Ω—ç
- üìÖ ”®–º–Ω”©—Ö ”©–¥—Ä“Ø“Ø–¥–∏–π–Ω —Ö–∞–Ω—à–∏–π–≥ —Ö–∞–π—Ö –±–æ–ª–æ–º–∂—Ç–æ–π
- üè¶ –ë–∞–Ω–∫–∞–∞—Ä —à“Ø“Ø–∂ —Ö–∞–π—Ö
- üöÄ FastAPI –¥—ç—ç—Ä —Å—É—É—Ä–∏–ª—Å–∞–Ω API
- üê≥ Docker –¥—ç—ç—Ä –∞–∂–∏–ª–ª–∞–Ω–∞

## üèõÔ∏è –î—ç–º–∂–∏–≥–¥—Å—ç–Ω –ë–∞–Ω–∫—É—É–¥

| –ë–∞–Ω–∫–Ω—ã –Ω—ç—Ä | –ö–æ–¥ |
|------------|-----|
| –ê—Ä–∏–≥ –ë–∞–Ω–∫ | ArigBank |
| –ë–æ–≥–¥ –ë–∞–Ω–∫ | BogdBank |
| –ö–∞–ø–∏—Ç—Ä–æ–Ω –ë–∞–Ω–∫ | CapitronBank |
| –ß–∏–Ω–≥–∏—Å –•–∞–∞–Ω –ë–∞–Ω–∫ | CKBank |
| –ì–æ–ª–æ–º—Ç –ë–∞–Ω–∫ | GolomtBank |
| –•–∞–∞–Ω –ë–∞–Ω–∫ | KhanBank |
| –ú –ë–∞–Ω–∫ | MBank |
| –ú–æ–Ω–≥–æ–ª –ë–∞–Ω–∫ | MongolBank |
| “Æ–Ω–¥—ç—Å–Ω–∏–π –•”©—Ä”©–Ω–≥”© –û—Ä—É—É–ª–∞–ª—Ç—ã–Ω –ë–∞–Ω–∫ | NIBank |
| –¢”©—Ä–∏–π–Ω –ë–∞–Ω–∫ | StateBank |
| –•—É–¥–∞–ª–¥–∞–∞ –•”©–≥–∂–ª–∏–π–Ω –ë–∞–Ω–∫ | TDBM |
| –¢—Ä–∞–Ω—Å –ë–∞–Ω–∫ | TransBank |
| –•–∞—Å –ë–∞–Ω–∫ | XacBank |

## üåê API –≠—Ü—Å–∏–π–Ω –¶—ç–≥“Ø“Ø–¥

| –≠—Ü—Å–∏–π–Ω —Ü—ç–≥ | –¢–∞–π–ª–±–∞—Ä |
|------------|---------|
| `GET /` | API-–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª |
| `GET /health` | status —à–∞–ª–≥–∞—Ö |
| `GET /rates` | –ë“Ø—Ö —Ö–∞–Ω—à–∏–π–≥ –∞–≤–∞—Ö |
| `GET /rates/latest` | –ë“Ø—Ö –±–∞–Ω–∫–Ω—ã —Ö–∞–º–≥–∏–π–Ω —Å“Ø“Ø–ª–∏–π–Ω —Ö–∞–Ω—à |
| `GET /rates/bank/{bank_name}` | –¢–æ–¥–æ—Ä—Ö–æ–π –±–∞–Ω–∫–Ω—ã —Ö–∞–Ω—à |
| `GET /rates/date/{date}` | –¢–æ–¥–æ—Ä—Ö–æ–π ”©–¥—Ä–∏–π–Ω —Ö–∞–Ω—à |
| `GET /rates/bank/{bank_name}/date/{date}` | –¢–æ–¥–æ—Ä—Ö–æ–π –±–∞–Ω–∫, ”©–¥—Ä–∏–π–Ω —Ö–∞–Ω—à |

## üöÄ Heroku –¥—ç—ç—Ä –±–∞–π—Ä—à—É—É–ª–∞—Ö

### –£—Ä—å–¥—á–∏–ª—Å–∞–Ω —à–∞–∞—Ä–¥–ª–∞–≥–∞

- Heroku –¥–∞–Ω—Å—Ç–∞–π –±–∞–π—Ö
- Heroku CLI —Å—É—É–ª–≥–∞—Å–∞–Ω –±–∞–π—Ö
- GitHub —Ä–µ–ø–æ-–≥–æ–æ clone —Ö–∏–π—Å—ç–Ω –±–∞–π—Ö

### 1-—Ä –∞–ª—Ö–∞–º: Heroku –∞–ø–ø “Ø“Ø—Å–≥—ç—Ö

```bash
# Heroku —Ä—É—É –Ω—ç–≤—Ç—Ä—ç—Ö
heroku login

# –®–∏–Ω—ç –∞–ø–ø “Ø“Ø—Å–≥—ç—Ö
heroku create your-app-name

# Container stack —Ç–æ—Ö–∏—Ä—É—É–ª–∞—Ö (Playwright –∞–∂–∏–ª–ª—É—É–ª–∞—Ö–∞–¥ —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π)
heroku stack:set container -a your-app-name
```

### 2-—Ä –∞–ª—Ö–∞–º: PostgreSQL –Ω—ç–º—ç—Ö

```bash
# PostgreSQL addon –Ω—ç–º—ç—Ö (Mini –ø–ª–∞–Ω - $5/—Å–∞—Ä)
heroku addons:create heroku-postgresql:essential-0 -a your-app-name
```

### 3-—Ä –∞–ª—Ö–∞–º: –û—Ä—á–Ω—ã —Ö—É–≤—å—Å–∞–≥—á —Ç–æ—Ö–∏—Ä—É—É–ª–∞—Ö

```bash
# Cron —Ö—É–≤–∞–∞—Ä—å —Ç–æ—Ö–∏—Ä—É—É–ª–∞—Ö (UTC —Ü–∞–≥–∞–∞—Ä - –ú–æ–Ω–≥–æ–ª—ã–Ω 09:00 = UTC 01:00)
heroku config:set CRON_SCHEDULE="0 1 * * *" -a your-app-name

# ArigBank token (—à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π –±–æ–ª)
heroku config:set ARIGBANK_BEARER_TOKEN="your-token" -a your-app-name
```

### 4-—Ä –∞–ª—Ö–∞–º: –ë–∞–π—Ä—à—É—É–ª–∞—Ö

```bash
# Heroku git remote –Ω—ç–º—ç—Ö
heroku git:remote -a your-app-name

# –ë–∞–π—Ä—à—É—É–ª–∞—Ö
git push heroku main
```

### 5-—Ä –∞–ª—Ö–∞–º: Worker —ç—Ö–ª“Ø“Ø–ª—ç—Ö

```bash
# Worker dyno —ç—Ö–ª“Ø“Ø–ª—ç—Ö
heroku ps:scale worker=1 -a your-app-name
```

### Dyno —Ç”©—Ä”©–ª —Å–æ–Ω–≥–æ—Ö

```bash
# Eco –ø–ª–∞–Ω —Ä—É—É —à–∏–ª–∂–∏—Ö ($5/—Å–∞—Ä - 1000 —Ü–∞–≥ —Ö—É–≤–∞–∞–ª—Ü–∞–Ω–∞)
heroku ps:type eco -a your-app-name
```

### –¢”©–ª”©–≤ —à–∞–ª–≥–∞—Ö

```bash
# Dyno-—É—É–¥—ã–Ω —Ç”©–ª”©–≤
heroku ps -a your-app-name

# Log —Ö–∞—Ä–∞—Ö
heroku logs --tail -a your-app-name
```

### üí∞ –ó–∞—Ä–¥–∞–ª (Heroku Student Pack)

| –ù”©”©—Ü | –¢”©–ª”©–≤–ª”©–≥”©”© | –ó–∞—Ä–¥–∞–ª |
|------|-----------|--------|
| Web + Worker Dyno | Eco | $5/—Å–∞—Ä |
| PostgreSQL | Essential-0 | $5/—Å–∞—Ä |
| **–ù–∏–π—Ç** | | **$10/—Å–∞—Ä** |

## üê≥ Docker –∞—à–∏–≥–ª–∞–Ω –ª–æ–∫–∞–ª –æ—Ä—á–∏–Ω–¥ –∞–∂–∏–ª–ª—É—É–ª–∞—Ö

```bash
# –†–µ–ø–æ clone —Ö–∏–π—Ö
git clone https://github.com/btseee/mongolian-bank-exchange-rate.git
cd mongolian-bank-exchange-rate

# Docker Compose –∞—à–∏–≥–ª–∞–Ω —ç—Ö–ª“Ø“Ø–ª—ç—Ö
docker-compose up -d

# API http://localhost:8000 –¥—ç—ç—Ä –∞–∂–∏–ª–ª–∞–Ω–∞
# Docs http://localhost:8000/docs –¥—ç—ç—Ä —Ö–∞—Ä–∞–≥–¥–∞–Ω–∞
```

## üîß –û—Ä—á–Ω—ã —Ö—É–≤—å—Å–∞–≥—á—É—É–¥

| –•—É–≤—å—Å–∞–≥—á | –ê–Ω—Ö–¥–∞–≥—á —É—Ç–≥–∞ | –¢–∞–π–ª–±–∞—Ä |
|----------|--------------|---------|
| `DATABASE_URL` | `sqlite:///./exchange_rates.db` | ”®–≥”©–≥–¥–ª–∏–π–Ω —Å–∞–Ω–≥–∏–π–Ω —Ö–æ–ª–±–æ–ª—Ç |
| `CRON_SCHEDULE` | `0 9 * * *` | Cron —Ö—É–≤–∞–∞—Ä—å (UTC+8) |
| `SSL_VERIFY` | `true` | SSL –±–∞—Ç–∞–ª–≥–∞–∞–∂—É—É–ª–∞–ª—Ç |
| `PORT` | `8000` | API –ø–æ—Ä—Ç |

## üìù –õ–∏—Ü–µ–Ω–∑

MIT License

## ü§ù –•—É–≤—å –Ω—ç–º—ç—Ä –æ—Ä—É—É–ª–∞—Ö

Pull request –±–æ–ª–æ–Ω issue –Ω—ç—ç—Ö–∏–π–≥ —É—Ä—å–∂ –±–∞–π–Ω–∞!
