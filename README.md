# üè¶ –ú–æ–Ω–≥–æ–ª—ã–Ω –ë–∞–Ω–∫—É—É–¥—ã–Ω –í–∞–ª—é—Ç—ã–Ω –•–∞–Ω—à API

–ú–æ–Ω–≥–æ–ª—ã–Ω 13 –±–∞–Ω–∫–Ω—ã –≤–∞–ª—é—Ç—ã–Ω —Ö–∞–Ω—à–∏–π–≥ —Ü—É–≥–ª—É—É–ª–∂, API-–∞–∞—Ä “Ø–π–ª—á–∏–ª–¥—ç–≥ –Ω—ç—ç–ª—Ç—Ç—ç–π —ç—Ö–∏–π–Ω —Ç”©—Å”©–ª.

## ‚ú® –û–Ω—Ü–ª–æ–≥—É—É–¥

- üìä –ú–æ–Ω–≥–æ–ª—ã–Ω 13 —Ç–æ–º–æ–æ—Ö–æ–Ω –±–∞–Ω–∫–Ω—ã –≤–∞–ª—é—Ç—ã–Ω —Ö–∞–Ω—à
- üîÑ ”®–¥”©—Ä –±“Ø—Ä –∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä —à–∏–Ω—ç—á–ª—ç–≥–¥—ç–Ω—ç
- üìÖ ”®–º–Ω”©—Ö ”©–¥—Ä“Ø“Ø–¥–∏–π–Ω —Ö–∞–Ω—à–∏–π–≥ —Ö–∞–π—Ö –±–æ–ª–æ–º–∂—Ç–æ–π
- üè¶ –ë–∞–Ω–∫–∞–∞—Ä —à“Ø“Ø–∂ —Ö–∞–π—Ö
- üöÄ FastAPI –¥—ç—ç—Ä —Å—É—É—Ä–∏–ª—Å–∞–Ω —Ö—É—Ä–¥–∞–Ω API
- üê≥ Docker –¥—ç–º–∂–ª—ç–≥—Ç—ç–π

## üèõÔ∏è –î—ç–º–∂–∏–≥–¥—Å—ç–Ω –ë–∞–Ω–∫—É—É–¥

| –ë–∞–Ω–∫–Ω—ã –Ω—ç—Ä | –ö–æ–¥ |
|------------|-----|
| –ê—Ä–∏–≥ –ë–∞–Ω–∫ | ArigBank |
| –ë–æ–≥–¥ –ë–∞–Ω–∫ | BogdBank |
| –ö–∞–ø–∏—Ç—Ä–æ–Ω –ë–∞–Ω–∫ | CapitronBank |
| –ß–∏–Ω–≥–∏—Å –•–∞–∞–Ω –ë–∞–Ω–∫ | CKBank |
| –ì–æ–ª–æ–º—Ç –ë–∞–Ω–∫ | GolomtBank |
| –•–∞–∞–Ω –ë–∞–Ω–∫ | KhanBank |
| –ú –ë–∞–Ω–∫ | MBank |
| –ú–æ–Ω–≥–æ–ª –ë–∞–Ω–∫ | MongolBank |
| “Æ–Ω–¥—ç—Å–Ω–∏–π –•”©—Ä”©–Ω–≥”© –û—Ä—É—É–ª–∞–ª—Ç—ã–Ω –ë–∞–Ω–∫ | NIBank |
| –¢”©—Ä–∏–π–Ω –ë–∞–Ω–∫ | StateBank |
| –•—É–¥–∞–ª–¥–∞–∞ –•”©–≥–∂–ª–∏–π–Ω –ë–∞–Ω–∫ | TDBM |
| –¢—Ä–∞–Ω—Å –ë–∞–Ω–∫ | TransBank |
| –•–∞—Å –ë–∞–Ω–∫ | XacBank |

## üåê API –≠—Ü—Å–∏–π–Ω –¶—ç–≥“Ø“Ø–¥

| –≠—Ü—Å–∏–π–Ω —Ü—ç–≥ | –¢–∞–π–ª–±–∞—Ä |
|------------|---------|
| `GET /` | API-–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª |
| `GET /health` | –≠—Ä“Ø“Ø–ª –º—ç–Ω–¥–∏–π–Ω —à–∞–ª–≥–∞–ª—Ç |
| `GET /rates` | –ë“Ø—Ö —Ö–∞–Ω—à–∏–π–≥ –∞–≤–∞—Ö (—Ö—É—É–¥–∞—Å–ª–∞–ª—Ç—Ç–∞–π) |
| `GET /rates/latest` | –ë“Ø—Ö –±–∞–Ω–∫–Ω—ã —Ö–∞–º–≥–∏–π–Ω —Å“Ø“Ø–ª–∏–π–Ω —Ö–∞–Ω—à |
| `GET /rates/bank/{bank_name}` | –¢–æ–¥–æ—Ä—Ö–æ–π –±–∞–Ω–∫–Ω—ã —Ö–∞–Ω—à |
| `GET /rates/date/{date}` | –¢–æ–¥–æ—Ä—Ö–æ–π ”©–¥—Ä–∏–π–Ω —Ö–∞–Ω—à |
| `GET /rates/bank/{bank_name}/date/{date}` | –¢–æ–¥–æ—Ä—Ö–æ–π –±–∞–Ω–∫, ”©–¥—Ä–∏–π–Ω —Ö–∞–Ω—à |

## üöÄ Render.com –¥—ç—ç—Ä –±–∞–π—Ä—à—É—É–ª–∞—Ö

### –£—Ä—å–¥—á–∏–ª—Å–∞–Ω —à–∞–∞—Ä–¥–ª–∞–≥–∞

- GitHub –¥–∞–Ω—Å–∞–∞ Render.com-—Ç–∞–π —Ö–æ–ª–±–æ—Å–æ–Ω –±–∞–π—Ö
- –≠–Ω—ç —Ä–µ–ø–æ-–≥ fork —Ö–∏–π—Å—ç–Ω —ç—Å–≤—ç–ª ”©”©—Ä–∏–π–Ω GitHub –¥–∞–Ω—Å —Ä—É—É push —Ö–∏–π—Å—ç–Ω –±–∞–π—Ö

### 1-—Ä –∞–ª—Ö–∞–º: Blueprint –∞—à–∏–≥–ª–∞–Ω –Ω—ç–≥ —Ç–æ–≤—à–∏–ª—Ç–æ–æ—Ä –±–∞–π—Ä—à—É—É–ª–∞—Ö

1. Render Dashboard —Ä—É—É –æ—á–Ω–æ: https://dashboard.render.com
2. **New** ‚Üí **Blueprint** –¥–∞—Ä–Ω–∞
3. GitHub —Ä–µ–ø–æ-–≥–æ–æ —Ö–æ–ª–±–æ–Ω–æ
4. Render –Ω—å `render.yaml` —Ñ–∞–π–ª—ã–≥ –∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä —É–Ω—à–∏–∂, –¥–∞—Ä–∞–∞—Ö “Ø–π–ª—á–∏–ª–≥—ç—ç–Ω“Ø“Ø–¥–∏–π–≥ “Ø“Ø—Å–≥—ç–Ω—ç:
   - **mongolian-rates-api**: Web Service (API)
   - **mongolian-rates-worker**: Background Worker (Cron)
   - **mongolian-rates-db**: PostgreSQL ”©–≥”©–≥–¥–ª–∏–π–Ω —Å–∞–Ω

### 2-—Ä –∞–ª—Ö–∞–º: –û—Ä—á–Ω—ã —Ö—É–≤—å—Å–∞–≥—á —Ç–æ—Ö–∏—Ä—É—É–ª–∞—Ö

Blueprint –±–∞–π—Ä—à—É—É–ª—Å–Ω—ã –¥–∞—Ä–∞–∞ –¥–∞—Ä–∞–∞—Ö –æ—Ä—á–Ω—ã —Ö—É–≤—å—Å–∞–≥—á–∏–π–≥ —Ç–æ—Ö–∏—Ä—É—É–ª–Ω–∞:

| –•—É–≤—å—Å–∞–≥—á | –£—Ç–≥–∞ | –¢–∞–π–ª–±–∞—Ä |
|----------|------|---------|
| `CRON_SCHEDULE` | `0 9 * * *` | ”®–¥”©—Ä –±“Ø—Ä 09:00 —Ü–∞–≥—Ç (UTC+8) –∞–∂–∏–ª–ª–∞–Ω–∞ |
| `SSL_VERIFY` | `true` | SSL –±–∞—Ç–∞–ª–≥–∞–∞–∂—É—É–ª–∞–ª—Ç |
| `PYTHONUNBUFFERED` | `1` | Python log –±—É—Ñ–µ—Ä–ª—ç—Ö–≥“Ø–π |

### –ì–∞—Ä–∞–∞—Ä –±–∞–π—Ä—à—É—É–ª–∞—Ö

–•—ç—Ä—ç–≤ Blueprint –∞—à–∏–≥–ª–∞—Ö–≥“Ø–π –±–æ–ª –≥–∞—Ä–∞–∞—Ä —Ç–æ—Ö–∏—Ä—É—É–ª–∂ –±–æ–ª–Ω–æ:

#### PostgreSQL ”©–≥”©–≥–¥–ª–∏–π–Ω —Å–∞–Ω “Ø“Ø—Å–≥—ç—Ö

1. **New** ‚Üí **PostgreSQL** –¥–∞—Ä–Ω–∞
2. –ù—ç—Ä ”©–≥–Ω”©: `mongolian-rates-db`
3. **Create Database** –¥–∞—Ä–Ω–∞
4. `Internal Database URL`-–∏–π–≥ —Ö—É—É–ª–Ω–∞

#### Web Service “Ø“Ø—Å–≥—ç—Ö

1. **New** ‚Üí **Web Service** –¥–∞—Ä–Ω–∞
2. GitHub —Ä–µ–ø–æ-–≥–æ–æ —Ö–æ–ª–±–æ–Ω–æ
3. –¢–æ—Ö–∏—Ä–≥–æ–æ:
   - **Name**: `mongolian-rates-api`
   - **Runtime**: Docker
   - **Region**: Singapore (–ú–æ–Ω–≥–æ–ª–¥ –æ–π—Ä)
4. –û—Ä—á–Ω—ã —Ö—É–≤—å—Å–∞–≥—á –Ω—ç–º–Ω—ç:
   - `DATABASE_URL`: PostgreSQL-–∏–π–Ω Internal URL
5. **Create Web Service** –¥–∞—Ä–Ω–∞

#### Background Worker “Ø“Ø—Å–≥—ç—Ö (Cron)

1. **New** ‚Üí **Background Worker** –¥–∞—Ä–Ω–∞
2. GitHub —Ä–µ–ø–æ-–≥–æ–æ —Ö–æ–ª–±–æ–Ω–æ
3. –¢–æ—Ö–∏—Ä–≥–æ–æ:
   - **Name**: `mongolian-rates-worker`
   - **Runtime**: Docker
   - **Docker Command**: `python cron.py`
4. –û—Ä—á–Ω—ã —Ö—É–≤—å—Å–∞–≥—á –Ω—ç–º–Ω—ç:
   - `DATABASE_URL`: PostgreSQL-–∏–π–Ω Internal URL
   - `CRON_SCHEDULE`: `0 9 * * *`
5. **Create Background Worker** –¥–∞—Ä–Ω–∞

## üê≥ Docker –∞—à–∏–≥–ª–∞–Ω –ª–æ–∫–∞–ª –æ—Ä—á–∏–Ω–¥ –∞–∂–∏–ª–ª—É—É–ª–∞—Ö

```bash
# –†–µ–ø–æ clone —Ö–∏–π—Ö
git clone https://github.com/your-username/mongolian-bank-exchange-rate.git
cd mongolian-bank-exchange-rate

# Docker Compose –∞—à–∏–≥–ª–∞–Ω —ç—Ö–ª“Ø“Ø–ª—ç—Ö
docker-compose up -d

# API http://localhost:8000 –¥—ç—ç—Ä –∞–∂–∏–ª–ª–∞–Ω–∞
# Docs http://localhost:8000/docs –¥—ç—ç—Ä —Ö–∞—Ä–∞–≥–¥–∞–Ω–∞
```

## üîß –û—Ä—á–Ω—ã —Ö—É–≤—å—Å–∞–≥—á—É—É–¥

| –•—É–≤—å—Å–∞–≥—á | –ê–Ω—Ö–¥–∞–≥—á —É—Ç–≥–∞ | –¢–∞–π–ª–±–∞—Ä |
|----------|--------------|---------|
| `DATABASE_URL` | `sqlite:///./exchange_rates.db` | ”®–≥”©–≥–¥–ª–∏–π–Ω —Å–∞–Ω–≥–∏–π–Ω —Ö–æ–ª–±–æ–ª—Ç |
| `CRON_SCHEDULE` | `0 9 * * *` | Cron —Ö—É–≤–∞–∞—Ä—å (UTC+8) |
| `SSL_VERIFY` | `true` | SSL –±–∞—Ç–∞–ª–≥–∞–∞–∂—É—É–ª–∞–ª—Ç |
| `PORT` | `8000` | API –ø–æ—Ä—Ç |

## üìù –õ–∏—Ü–µ–Ω–∑

MIT License

## ü§ù –•—É–≤—å –Ω—ç–º—ç—Ä –æ—Ä—É—É–ª–∞—Ö

Pull request –±–æ–ª–æ–Ω issue –Ω—ç—ç—Ö–∏–π–≥ —É—Ä—å–∂ –±–∞–π–Ω–∞!
